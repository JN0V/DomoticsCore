; Native test for streaming serializer JSON validation
; Runs on host machine to verify JSON output is valid

[env:native]
platform = native
lib_deps =
    bblanchon/ArduinoJson@^7.0.4
    file://../../
    file://../../../DomoticsCore-Core/
lib_archive = false
lib_ldf_mode = chain
build_flags =
    -std=c++17
    -DUNITY_INCLUDE_PRINT_FORMATTED
    -DARDUINOJSON_ENABLE_STD_STRING=1
    -DARDUINOJSON_ENABLE_STD_STREAM=0
    -DDOMOTICS_PLATFORM_UNKNOWN=1
    -I../../include
    -I../../../DomoticsCore-Core/include
build_unflags = -std=gnu++11
test_framework = unity
test_build_src = false
